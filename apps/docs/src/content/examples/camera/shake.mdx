A shake effect inspired by drei's [CameraShake](https://drei.docs.pmnd.rs/cameras/cube-camera) component.

<Example path="shake" />

This example demonstrates how one might make a custom _hook_ for reusability. The `useShake` hook accepts an optional params object that is referenced in its `shake` task callback function. Because this is a callback function, it doesn't need to be reactive - no need for `$state`.

## Jumping on Parameter Updates

Note that adjusting `intensity` or `frequency` on the fly may cause the object to jump. This is expected since there is no interpolation when the `frequency` or `intensity` suddenly changes. Small changes in the noise value generation parameters are also jumps but their magnitude is so much smaller that they appear to be a smoother transition. For example, accumulated time is used as an input to the noise generation function but its value only increases by roughly `1/60` each frame. In other words, jumping from a value of say `0.1` to a value of `2` is a much larger jump than a value of `1/60` to a value of `2/60`.

Expanding Capabilities

Drei's `CameraShake` is limited in its features. The biggest downside is that it can only be applied to cameras. `useShake` on the other hand is something that can be applied to anything that extends `Object3D` essentially anything that has a `rotation` property - meshes, groups, cameras, even the entire scene can be shaken because `Three.Scene` extends `Object3D`. The other benefit to shaking implementated as a _hook_ is that the effect can be started or stopped at will.

`useShake.shake` returns the task that is responsible for setting the object's rotation each frame. This means you have full control of when you want to shake. `shake`'s second parameter is a a task options object. It has the same type as the options object that you would pass into threlte's `useTask` function. This means you can disable automatically starting the shake task by passing in an object with `autoStart` set to false. This is useful if you want the task to start and stop on some event.

```svelte title="Scene.svelte"
<script>
  import { useShake } from './shake'

  const { shake } = useShake()

  const scene = useScene()

  // don't autoStart, start shaking scene when the mesh below is clicked
  const { task } = shake(scene, { autoStart: false })
</script>

<T.Mesh
  onclick={() => {
    task.start()
  }}
>
  <T.BoxGeometry />
</T.Mesh>
```

`useShake` also returns `pitch`, `roll`, and `yaw` objects which can be adjusted at any time and will be read on the next frame of the shake's task. Each object has an `intensity` and a `frequency` property. `intensity` scales the generated noise value. `frequency` constrols how quickly the shaking happens. You can think of `intensity` as the amplitude of a wave, and `frequency` is analogous to the frequency of the wave - a higher frequency means the wave is squished so that it repeats more often per some amount of time.

```svelte
<script>
  const { shake, pitch } = useShake()
</script>

<T.Mesh
  oncreate={(ref) => {
    return shake(ref).stop
  }}
  onclick={() => {
    pitch.intensity *= 2
    pitch.frequency *= 2
  }}
></T.Mesh>
```
